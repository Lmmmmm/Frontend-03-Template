<div id="a">
  <span>1</span>
  <p>2</p>
  <a>3</a>
  <div>4</div>
</div>

<script>
  //进行两次DOM操作
  let element = document.getElementById("a");
  function reverseChildren(element) {
    let range = new Range();
    //第一次DOM操作: 把所有节点拿下来
    range.selectNodeContents(element);
    //取出span到div 4
    let fragment = range.extractContents();
    var l = fragment.childNodes.length;
    //离开DOM进行操作
    while (l-- > 0) {
      //appendChild一个节点附加到指定父节点的子节点列表的末尾处,如果某个节点已经拥有父节点，在被传递给此方法后，它首先会被移除，再被插入到新的位置。
      fragment.appendChild(fragment.childNodes[i]);
    }
    element.appendChild(fragment);
  }
  //第二次DOM操作，把所有节点加上去
  reverseChildren(element);
</script>
